<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>U.S. Presidents</title><meta charset="utf-8">
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="../js/d3.v3.min.js" charset="utf-8"></script>
        <script type="text/javascript" src="../keshif.js" charset="utf-8"></script>
        <link rel="stylesheet" href="../keshif.css"/ type="text/css">
        <link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">

        <script type="text/javascript" src="./js/demo.js" charset="utf-8"></script>
        <link rel="stylesheet" href="./css/style.css"/ type="text/css">

        <script type="text/javascript" src="./js/moment.min.js" charset="utf-8"></script>

        <script type="text/javascript">
    	google.setOnLoadCallback( function(){
            new kshf.Browser({
                domID: "#chart_div",
                categoryTextWidth: 160,
                source: {
                    gdocId : '0Ai6LdDWgaqgNdG1WX29BanYzRHU4VHpDUTNPX3JLaUE',
                    sheets : [ {name:"Presidents"} ]
                },
                facets: [
                    {   facetTitle: "Party", 
                        timeTitle: "Term Start",
                        timeItemMap : function(d){
                            var year=d.data[3].substr(0,4);
                            return new Date(moment(year+"01-01","YYYY-MM-DD"));
                        },
                    },{ facetTitle: "State of Birth",
                    },{ facetTitle: "Occupation",
                    },{ facetTitle: "College",
                    },{ facetTitle: "Religion",
                    },{ facetTitle: "Notes",
                    }
                ],
                itemDisplay: {
                    sortColWidth: 60,
                    textSearch: 'Name',
                    sortingOpts : [
                        {   name: 'Term',
                            value: function(d){ return d.data[0]; }
                        }
                    ],
                    displayType: 'grid',
                    contentFunc: function(d){ return '<img src=\"'+d.data[11]+'\">'; }
                }
            });

            new kshf.Browser({
                domID: "#chart_div2",
                dirRoot: "../",
                categoryTextWidth: 150,
                barChartWidth: 70,
                source : {
                    gdocId : '0Ai6LdDWgaqgNdFlZRk83NmpDLVc2cllCRjhpdkNYOWc',
                    sheets : [ {name:"Examples"} ]
                },
                facets: [
                    {
                        facetTitle: "Features",
                        timeTitle: "Authored",
                        catItemMap: function(d){
                            var r = [];
                            if(d.data[5]) r.push("With time");
                            if(d.data[6]) r.push("With Multi-Sort Facet");
                            if(d.data[7]) r.push("Text search");
                            return r;
                        }
                    },{ facetTitle: "# Categories",
                        sortingOpts:[
                            {   name: "Items"
                            },
                            {   name: "Cat's",
                                no_resort: true,
                                func: kshf.Util.sortFunc_Column_Int_Incr
                            }
                        ]
                    },{
                        facetTitle: "# Items",
                        catItemMap: function(d){
                            var n = d.data[1];
                            if(n<100) return "<100";
                            if(n<500) return "100-500";
                            if(n<1000) return "500-1000";
        //                    if(n<5000) return "500-1000";
                            return ">1000";
                        }
                    },{
                        facetTitle: "Highlights",
                    }
                ],
                itemDisplay: {
                    sortColWidth: 60,
                    sortingOpts : [ { 
                        name: 'Item#',
                        value: function(d){ 
                            return d.data[1];
                        },
                    } ],
                    textSearch : 'Name',
                    contentFunc : function(d){
                        var str='';
                        // Demo name
                        str+="<div class=\"iteminfo iteminfo_0\">";
                        str+=d.data[0]+" - ";
                        // Live
                        str+="<span>";
                        str+="<a target=\"_blank\" href=\"http://adilyalcin.github.io/Keshif/demo/"+d.data[2]+"\">Demo"+
                            "<img src=\"img/url.png\" style=\"width: 15px;height: 15px;padding-left: 5px;\"></a> - ";
                        str+="<a target=\"_blank\" href=\"https://github.com/adilyalcin/Keshif/blob/master/demo/"+d.data[2]+"\">Source</a>";
                        str+="</span>";
                        str+="</div>";
                        // Source
                        str+="<div class=\"iteminfo iteminfo_1\">";
                        str+="</div>";
                        return str;
                    }
                }
            });
        });
        </script>
        <style>
            #chart_div {
                width: 650px;
                height: 700px;
            }
            #chart_div2 {
                width: 750px;
                height: 400px;
                margin: 0 auto;
                margin-top: 10px;
            }

            div.content img{
                width: 350px;
                padding-left: 15px;
            }
        </style>
	</head>
    <body>
        <div class="meny">
            <span class='developed'>
                <span class='projectName'>kshf</span> browser developed by:<br>
                <span class='me'><a href="http://www.adilyalcin.me" target='_blank'>M. Adil Yalçın</a></span> 
                    (<a href="http://www.twitter.com/adilyalcin">@adilyalcin</a>)<br/>
                <a href="http://www.cs.umd.edu/hcil/" target="_blank">Human Computer Interaction Lab</a><br>
                <a href="http://www.umd.edu/" target="_blank">University of Maryland, College Park</a>
                <a href="http://www.cs.umd.edu/hcil/" target="_blank"><img src="img/HCIL.gif" class="hcil_img"></a>
                <span class='source_code'>
                    <iframe src='http://ghbtns.com/github-btn.html?user=adilyalcin&repo=Keshif&type=watch&count=true' 
                        allowtransparency='true' frameborder='0' scrolling='0' width='80px' height='20px'></iframe>
                    <iframe src='http://ghbtns.com/github-btn.html?user=adilyalcin&repo=Keshif&type=fork&count=true'
                        allowtransparency='true' frameborder='0' scrolling='0' width='80px' height='20px'></iframe>
                    <span class='descr'>Source code is on github.<br/> Browse your data now. </span>
                    </span>
            </span>
            <div class='credit'>Side menu created by:<br> <a href="http://www.twitter.com/hakimel">@hakimel</a> / 
                <a href='http://hakim.se' target='_blank'>http://hakim.se</a></div>
            </div>
        <div class="meny-arrow"></div>
        <div class="contents">
            <div id="chart_div"></div>
            <div id="chart_div2"></div>
            </div>
    </body>
</html>